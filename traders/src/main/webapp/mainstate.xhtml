<!DOCTYPE html>
<html lang="en"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:prime="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets">
	
    <h:head>
        <title>Traders</title>
        <link rel="shortcut icon" type="image/x-icon" href="#{resource['img/favicon.png']}"/>
		<h:outputStylesheet library="css" name="common.css"/>
		<h:outputStylesheet library="css" name="main_state.css"/>
		<h:outputStylesheet library="css" name="ships.css"/>
		<h:outputStylesheet library="css" name="goods.css"/>
		<h:outputStylesheet library="css" name="travels.css"/>
		<script type="text/javascript">
			var actualContent = "travels";
			function show(pageContent){
				var element = document.getElementById(actualContent);
				element.classList.remove("active");
				
				var actualElement = document.getElementById(pageContent);
				actualElement.classList.add("active");
				
				actualContent = pageContent;
				
			}
			
			var byPlanetElement = document.getElementById("chose-by-planet");
			var byGoodsElement  = document.getElementById("chose-by-goods");
			
			HTMLInputElementObject.addEventListener('input', function (event) {
				console.log(event);
				console.log(this);
				if(this.value  === "planets"){
					if((' ' + byPlanetElement.className + ' ').indexOf(" active ") > -1){
						byGoodsElement.classList.remove("active");
						byPlanetElement.classList.add("active");
					}
				}
				else{
					if((' ' + byGoodsElement.className + ' ').indexOf(" active ") > -1){
						byPlanetElement.classList.remove("active");
						byGoodsElement.classList.add("active");
					}
				}
			});
		</script>
    </h:head>
	<h:body>
		<div class="page-menu">
			<div class="menu-items">
				<button onclick="show('travels')">Travels</button>
				<button onclick="show('ships')" >Ships Management</button>
				<button onclick="show('goods')">Search Goods</button>
				<h:form>
					<h:commandButton class="action-button retire-trader-button" value="Retire Trader" action="#{mainState.retireTrader()}" />
				</h:form>
			</div>
		</div>
		
		<div class="page-content">
			<div class="content-wrapper">
				<h1>Welcome #{mainState.trader.nickname}</h1>
				<h2>Date: #{mainState.actualDate}</h2>
				<hr/>
				<div id="travels" class="active">
					<ui:insert name="travels" >
					  <ui:include src="travels.xhtml" />
					</ui:insert>
				</div>
				
				<div id="goods">
					<ui:insert name="goods" >
					  <ui:include src="goods.xhtml" />
					</ui:insert>
				</div>
				
				<div id="ships">
					<ui:insert name="ships" >
					  <ui:include src="ships.xhtml" />
					</ui:insert>
				</div>
			</div>
		</div>
	</h:body>
</html>
