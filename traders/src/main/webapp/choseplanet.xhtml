<!DOCTYPE html>
<html lang="en"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:c="http://xmlns.jcp.org/jsf/core"
	xmlns:f="http://xmlns.jcp.org/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j">
	
    <h:head>
        <title>Traders</title>
		<link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'/>
		<h:outputStylesheet library="css" name="chose_planet.css"/>
    </h:head>
	<h:body>
		<div class="page-wrapper">
			<h:form class="chose-planet">
				<h1 class="title">Choose planet</h1>
				
				<h:selectOneRadio id="solarSystemsToSelect" 
								value="#{chosePlanet.selectedSolarSystem}"
								immediate="true">
					<c:selectItems var="selectedSolarSystem"
									value="#{chosePlanet.solarSystems}"
		              				itemLabel="#{selectedSolarSystem.name}"
		              				itemValue="#{selectedSolarSystem}"/>
					<c:ajax execute="@this" listener="#{chosePlanet.setSolarSystem}"/>
		        </h:selectOneRadio>
		        
		        <h:commandButton id="chose-planet" value="Chose">
		        	<c:ajax execute="solarSystemToSelect" 
				        	listener="#{chosePlanet.retrivePlanets}"
				        	render="planetToSelect"/>
		        </h:commandButton>
		        
				<h:selectOneRadio id="planetToSelect" value="#{chosePlanet.selectedPlanet}">
					<c:selectItems var="selectedPlanet"
									value="#{chosePlanet.planets}"
		              				itemLabel="#{selectedPlanet.name}"
		              				itemValue="#{selectedPlanet}"/>
				</h:selectOneRadio>
			</h:form>
		</div>
	</h:body>
</html>